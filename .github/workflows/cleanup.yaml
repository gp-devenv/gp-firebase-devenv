#
# gp-firebase-devenv
# Copyright (c) 2023, Greg PFISTER. MIT License.
#
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
# SOFTWARE.
#

# Build and validate

name: cleanup

on:
  workflow_run:
    workflows: ['release', 'schedule']
    branch: [master]
    types: [completed]

jobs:
  build:
    name: Cleanup untagged images on ghcr.io/gp-devenv/gp-base-devenv
    runs-on: ubuntu-22.04
    steps:
      - name: Cleanup untagged images on ghcr.io/gp-devenv/gp-base-devenv
        uses: camargo/delete-untagged-action@v1
        with:
          github-token: ${{ secrets.GHCR_IO_TOKEN }}
          personal-account: false
          repository: 'gp-devenv/gp-firebase-devenv'
          package-name: 'gp-firebase-devenv'
#
# End
